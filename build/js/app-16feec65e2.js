/**
 * ehrApp - ehrApp Project Generated from HotTowel Angular
 * @authors 
 * @version v0.0.0
 * @link 
 * @license 
 */
!function(){"use strict";angular.module("app",["app.core","app.widgets","app.admin","app.dashboard","app.patients","app.patients.details","app.patients.create","app.exam","app.layout"]),angular.module("app").config(["$httpProvider",function(t){t.interceptors.push(function(){return{request:function(t){if(t.url.indexOf("app/")>-1){var e=Date.now().toString(),n=-1===t.url.indexOf("?")?"?":"&";t.url=t.url+n+"c="+e}return t}}})}])}(),function(){"use strict";angular.module("app.admin",["app.core","app.widgets"])}(),function(){"use strict";angular.module("blocks.exception",["blocks.logger"])}(),function(){"use strict";angular.module("blocks.logger",[])}(),function(){"use strict";angular.module("blocks.router",["ui.router","blocks.logger"])}(),function(){"use strict";angular.module("app.core",["ngAnimate","ngSanitize","blocks.exception","blocks.logger","blocks.router","ui.router","ngplus","ui.bootstrap","angularMoment"])}(),function(){"use strict";angular.module("app.dashboard",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.exam",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.layout",["app.core","ui.bootstrap.collapse"])}(),function(){"use strict";angular.module("app.patients.create",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.patients.details",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.patients",["app.core","app.widgets"])}(),function(){"use strict";angular.module("app.widgets",[])}(),function(){"use strict";function t(t){function e(){t.info("Activated Admin View")}var n=this;n.title="Admin",e()}angular.module("app.admin").controller("AdminController",t),t.$inject=["logger"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"admin",config:{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"vm",title:"Admin",settings:{nav:4,content:'<i class="fa fa-lock"></i> Admin'}}}]}angular.module("app.admin").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){this.config={appErrorPrefix:void 0},this.configure=function(t){this.config.appErrorPrefix=t},this.$get=function(){return{config:this.config}}}function e(t){t.decorator("$exceptionHandler",n)}function n(t,e,n){return function(r,i){var a=e.config.appErrorPrefix||"",o={exception:r,cause:i};r.message=a+r.message,t(r,i),n.error(r.message,o)}}angular.module("blocks.exception").provider("exceptionHandler",t).config(e),e.$inject=["$provide"],n.$inject=["$delegate","exceptionHandler","logger"]}(),function(){"use strict";function t(t,e){function n(n){return function(r){var i,a;return r.data&&r.data.description&&(i="\n"+r.data.description,a=n+i),r.data.description=a,e.error(a),t.reject(r)}}var r={catcher:n};return r}t.$inject=["$q","logger"],angular.module("blocks.exception").factory("exception",t)}(),function(){"use strict";function t(t,e){function n(n,r,i){e.error(n,i),t.error("Error: "+n,r)}function r(n,r,i){e.info(n,i),t.info("Info: "+n,r)}function i(n,r,i){e.success(n,i),t.info("Success: "+n,r)}function a(n,r,i){e.warning(n,i),t.warn("Warning: "+n,r)}var o={showToasts:!0,error:n,info:r,success:i,warning:a,log:t.log};return o}angular.module("blocks.logger").factory("logger",t),t.$inject=["$log","toastr"]}(),function(){"use strict";function t(t,e,n){function r(t,r,a,o){function u(t,r){t.forEach(function(t){t.config.resolve=angular.extend(t.config.resolve||{},i.resolveAlways),e.state(t.state,t.config)}),r&&!d&&(d=!0,n.otherwise(r))}function c(){r.$on("$stateChangeError",function(e,n,r,i,a,u){if(!f){g.errors++,f=!0;var c=n&&(n.title||n.name||n.loadedTemplateUrl)||"unknown target",s="Error routing to "+c+". "+(u.data||"")+". <br/>"+(u.statusText||"")+": "+(u.status||"");o.warning(s,[n]),t.path("/")}})}function s(){c(),p()}function l(){return a.get()}function p(){r.$on("$stateChangeSuccess",function(t,e,n,a,o){g.changes++,f=!1;var u=i.docTitle+" "+(e.title||"");r.title=u})}var f=!1,d=!1,g={errors:0,changes:0},m={configureStates:u,getStates:l,stateCounts:g};return s(),m}var i={docTitle:void 0,resolveAlways:{}};window.history&&window.history.pushState||(window.location.hash="/"),t.html5Mode(!0),this.configure=function(t){angular.extend(i,t)},this.$get=r,r.$inject=["$location","$rootScope","$state","logger"]}angular.module("blocks.router").provider("routerHelper",t),t.$inject=["$locationProvider","$stateProvider","$urlRouterProvider"]}(),function(){"use strict";function t(t){t.options.timeOut=4e3,t.options.positionClass="toast-bottom-right"}function e(t,e,n){t.debugEnabled&&t.debugEnabled(!0),n.configure(r.appErrorPrefix),e.configure({docTitle:r.appTitle+": "})}var n=angular.module("app.core");n.config(t),t.$inject=["toastr"];var r={appErrorPrefix:"[ehrApp Error] ",appTitle:"ehrApp"};n.value("config",r),n.config(e),e.$inject=["$logProvider","routerHelperProvider","exceptionHandlerProvider"]}(),function(){"use strict";angular.module("app.core").constant("toastr",toastr).constant("moment",moment)}(),function(){"use strict";function t(t){var n="/404";t.configureStates(e(),n)}function e(){return[{state:"404",config:{url:"/404",templateUrl:"app/core/404.html",title:"404"}}]}t.$inject=["routerHelper"],angular.module("app.core").run(t)}(),function(){"use strict";function t(t,e,n,r){function i(){return e.when(72)}function a(e){function r(t){return t.data}function i(t){return n.catcher("XHR Failed for createPatient")(t)}return t.post("/api/patients/create",e).then(r)["catch"](i)}function o(e){function r(t){return t.data}function i(t){return n.catcher("XHR Failed for getPatient")(t)}return t.get("/api/patient/"+e).then(r)["catch"](i)}function u(){function e(t){return t.data}function r(t){return n.catcher("XHR Failed for getPatients")(t)}return t.get("/api/patients").then(e)["catch"](r)}function c(){function e(t){return t.data}function r(t){return n.catcher("XHR Failed for getOfficeQueue")(t)}return t.get("/api/office/queue").then(e)["catch"](r)}function s(e){function r(t){return t.data}function i(t){return n.catcher("XHR Failed for addOfficeQueue")(t)}return t.post("/api/office/queue/add",e).then(r)["catch"](i)}var l={createPatient:a,getPatient:o,getPatients:u,getMessageCount:i,getOfficeQueue:c,addOfficeQueue:s};return l}angular.module("app.core").factory("dataservice",t),t.$inject=["$http","$q","exception","logger"]}(),function(){"use strict";function t(t,e,n){function r(){var e=[i(),a()];return t.all(e).then(function(){n.info("Activated Dashboard View")})}function i(){return e.getMessageCount().then(function(t){return o.messageCount=t,o.messageCount})}function a(){return e.getPatients().then(function(t){return o.patients=t,o.patients})}var o=this;o.news={title:"ehrApp",description:"Hot Towel Angular is a SPA template for Angular developers."},o.messageCount=0,o.patients=[],o.patientSearch=!0,o.title="Dashboard",r(),o.addToQueue=function(t){e.addOfficeQueue(t).then(function(e){n.info("Added "+t.firstName+" to office queue")})}}angular.module("app.dashboard").controller("DashboardController",t),t.$inject=["$q","dataservice","logger"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"dashboard",config:{url:"/",templateUrl:"app/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",title:"Dashboard",settings:{nav:1,content:'<i class="fa fa-th-large"></i> Dashboard'}}}]}angular.module("app.dashboard").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,e,n){function r(){var e=[i()];return t.all(e).then(function(){n.info("Activated Exam View")})}function i(){return e.getOfficeQueue().then(function(t){return a.officeQueue=t,a.officeQueue})}var a=this;a.title="Exam",a.officeQueue=[],r()}angular.module("app.exam").controller("ExamController",t),t.$inject=["$q","dataservice","logger"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"exam",config:{url:"/exam",templateUrl:"app/exam/exam.html",controller:"ExamController",controllerAs:"vm",title:"Exam",settings:{nav:3,content:'<i class="fa fa-eye"></i> Exam'}}}]}angular.module("app.exam").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(){function t(t,e,n){function r(e){var n="dropy";e.preventDefault(),a.hasClass(n)?a.hasClass(n)&&(a.removeClass(n),i.slideUp(350,t.whenDoneAnimating)):(i.slideDown(350,t.whenDoneAnimating),a.addClass(n))}var i=e.find(".sidebar-inner"),a=e.find(".sidebar-dropdown a");e.addClass("sidebar"),a.click(r)}var e={link:t,restrict:"EA",scope:{whenDoneAnimating:"&?"}};return e}angular.module("app.layout").directive("htSidebar",t)}(),function(){"use strict";function t(){function t(t){t.isCollapsed=!0}var e={bindToController:!0,controller:t,controllerAs:"vm",restrict:"EA",scope:{navline:"="},templateUrl:"app/layout/ht-top-nav.html"};return t.$inject=["$scope"],e}angular.module("app.layout").directive("htTopNav",t)}(),function(){"use strict";function t(t,e,n,r){function i(){r.success(n.appTitle+" loaded!",null),a()}function a(){e(function(){t.showSplash=!1},1e3)}var o=this;o.busyMessage="Please wait ...",o.isBusy=!0,t.showSplash=!0,o.navline={title:n.appTitle,text:"github",link:"http://github.com/nbcormier/ehr-app"},i()}angular.module("app.layout").controller("ShellController",t),t.$inject=["$rootScope","$timeout","config","logger"]}(),function(){"use strict";function t(t,e){function n(){r()}function r(){a.navRoutes=o.filter(function(t){return t.settings&&t.settings.nav}).sort(function(t,e){return t.settings.nav-e.settings.nav})}function i(e){if(!e.title||!t.current||!t.current.title)return"";var n=e.title;return t.current.title.substr(0,n.length)===n?"current":""}var a=this,o=e.getStates();a.isCurrent=i,n()}angular.module("app.layout").controller("SidebarController",t),t.$inject=["$state","routerHelper"]}(),function(){"use strict";function t(t,e,n,r,i){function a(){n.info("Activated Admin View")}var o=this;o.patient={},o.title="Create Patient",a(),o.createPatient=function(){e.createPatient(o.patient).then(function(t){n.info("Added "+o.patient.firstName+" to patients database")})}}angular.module("app.patients.create").controller("PatientsCreateController",t),t.$inject=["$q","dataservice","logger","$state","$stateParams"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"patients.create",config:{url:"/create",templateUrl:"app/patients/create/create.html",controller:"PatientsCreateController",controllerAs:"vm",title:"Patients Create"}}]}angular.module("app.patients.create").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,e,n,r,i,a){function o(){var e=[u()];return t.all(e).then(function(){n.info("Activated Patient Details View")})}function u(){return e.getPatient(s).then(function(t){return c.patient=t,c.patient})}var c=this,s="";c.patient={},c.title=c.patient.lastName+", "+c.patient.firstName,angular.isDefined(i.id)&&(s=i.id),o(),c.addToQueue=function(t){var r={};r.timestamp=a(),r.patient=t,e.addOfficeQueue(r).then(function(e){n.info("Added "+t.firstName+" to office queue")})}}angular.module("app.patients.details").controller("PatientsDetailsController",t),t.$inject=["$q","dataservice","logger","$state","$stateParams","moment"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"patients.details",config:{url:"/details/:id",templateUrl:"app/patients/details/details.html",controller:"PatientsDetailsController",controllerAs:"vm",title:"Patients Details"}}]}angular.module("app.patients.details").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t,e,n,r,i){function a(){var e=[o()];return t.all(e).then(function(){r.info("Activated Patients View")})}function o(){return n.getPatients().then(function(t){return u.patients=t,u.patients})}var u=this;u.title="Patients",u.patients=[],u.selected="",a(),u.onSelect=function(t,e,n,r){u.selected="",i.go("patients.details",{id:t.id})},u.findPatient=function(t){return e("filter")(u.patients,{$:t})}}angular.module("app.patients").controller("PatientsController",t),t.$inject=["$q","$filter","dataservice","logger","$state"]}(),function(){"use strict";function t(t){t.configureStates(e())}function e(){return[{state:"patients",config:{url:"/patients",templateUrl:"app/patients/patients.html",controller:"PatientsController",controllerAs:"vm",title:"Patients",settings:{nav:2,content:'<i class="fa fa-user"></i> Patients'}}}]}angular.module("app.patients").run(t),t.$inject=["routerHelper"]}(),function(){"use strict";function t(t){function e(t,e,i){i.$observe("htImgPerson",function(t){t=n+(t||r),i.$set("src",t)})}var n=t.imageBasePath,r=t.unknownPersonImageSource,i={link:e,restrict:"A"};return i}angular.module("app.widgets").directive("htImgPerson",t),t.$inject=["config"]}(),function(){"use strict";function t(){function t(t,e,n){t.toggleContent=function(){if("true"===t.allowCollapse){var n=angular.element(e).siblings(".widget-content");n.toggle()}}}var e={scope:{title:"@",subtitle:"@",rightText:"@",allowCollapse:"@"},templateUrl:"app/widgets/widget-header.html",restrict:"EA",link:t};return e}angular.module("app.widgets").directive("htWidgetHeader",t)}();